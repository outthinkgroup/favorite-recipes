{"version":3,"sources":["scripts/helpers.js","scripts/account-page.js","account-page.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["BASE_URL","OPTIONS","method","credentials","headers","replaceWithForm","element","callback","formLabel","btnText","replaceParent","changeInnerTextOfEl","form","document","createElement","classList","add","parent","parentElement","changingEl","querySelector","addEventListener","handleSubmit","innerHTML","trim","replaceWith","elements","focus","clickOutside","formReset","e","newVal","value","innerText","removeEventListener","useApi","endpoint","data","body","JSON","stringify","fetch","then","res","json","getInputValue","selector","el","getInputValueByForm","inputs","querySelectorAll","values","reduce","valueObj","input","index","name","toggleOnOff","actionElement","parentElementSelector","action","toggleState","toggleOff","parentEl","target","closest","on","dataset","state","contains","getUserId","WP","userId","runCallBack","updateAllLists","newListItem","parenList","forEach","clone","cloneNode","list","prepend","window","initManagement","addListItemActionHandlers","listBottom","addCreateListHandler","showFormBtn","handleShowCreateListForm","handleAddList","waitTillResolve","preventDefault","listName","index0","listParent","listItemCopy","createNewListItem","addList","error","list_id","link","listItem","updateNewListItemWith","listId","titleEl","hasAttribute","setAttribute","user_id","parseInt","title","executeListItemAction","item","handleDeleteList","handleRenameListBtnClick","deleteList","removeChild","handleRenameRecipe","console","log","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","newLink","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","length","module"],"mappings":"AGAA,ACAA,IDAIuH,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBjC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAkC,CDDCf,MCCM,GDDX,ACCcnB,EDDE,ECCE,CAACrB,SAAL,EAAd;ADAEwC,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,EAAAA,OAAO,CAACC,MAAR,GAAiB,YAAY;AAC3BnC,IAAAA,IAAI,CAACoC,MAAL;ADCF,ACAC,GAFD,MDEOjB,SAAP;AACD;ACACe,AHPF,EGOEA,OAAO,CAACG,IAAR,GAAerC,IAAI,CAACqC,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDExC,EAAAA,IAAI,CAACyC,EDCEpB,QCDP,CAAgBqB,GDClB,GAAwB,MCDtB,CAA6BR,OAA7B,EAAsClC,IAAI,CAAC2C,WAA3C;ADEA,ACDD,AHDD7D,MAAM,CAAC7D,gBAAP,CAAwB,kBAAxB,EAA4C8D,cAA5C;AEGE,MAAI;AACF,ACDJ,AHDA,IGCI6D,KHDK7D,CEEC,IAAIuC,ACDA,GAAG,EDCP,EAAN,ACDJ,EHDA,GAA0B;AEGvB,AFFD,GEAA,CAEE,EFFE,CAAC7G,IEEI8G,GAAP,CFFW,CEEC,AFFAvG,aAAT,CAAuB,8BAAvB,CAAL,EAA6D;AEG3D,ACFJ,AHCE,MAAM4D,EECA4C,CCFCqB,CHCG,GAAGpI,EECA,GAAG,ACFlB,CDEmB,ECFE,AHCE,CAACO,EECAuG,GAAG,CAACE,KAAV,EAAiBC,AFDpB,CAAuB,IECpB,CAAuB,MFD1B,CAAb,wDECgB,CAAd;ACDF,AHCA1C,EAAAA,IGDI4D,UAAJ,EAAgB,SHCS,CAAChE,IAAD,CAAzB;AECE,ACDA,AHEF,MAAMK,EEDAuC,OAAJ,CFCc,CEDD,EFCI/G,QAAQ,CAACO,aAAT,CAAuB,eAAvB,CAAnB;AEAI,ACDH,AHEDkE,EAAAA,WEDWyC,SFCS,CEDC,AFCA1C,CEDCuC,OAAO,CAAC,CAAD,AFCT,CEDC,AFCrB,CEDI;AACD,AFCJ,EAED;AEFG,ACDDoB,EAAAA,UAAU,GAAGE,UAAU,CAAC,YAAY;AAClC,QAAIC,KAAK,GAAGtI,QAAQ,CAACqC,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,AFCK,SEDE,AFCOoC,GEDd,iBFCK,CAA8BrE,MAA9B,EAAsC;AEA5C,ACFG,AHGF,MAAMsE,GGHC,IAAI6D,CAAC,GAAG,AHGE,CGHf,EAAgBA,AHGEnI,CGHD,GAAGkI,EHGI,CAAC/H,EGHA,CAACiI,MAA1B,EAAkCD,CAAC,CHGjB,CGHlB,EAAuC,iCHGzC;AGFI,AHGJ7D,EAAAA,QGHQ4C,GHGG,CAAC9G,EGHE,CAAC0G,UAAP,CAAkBoB,EHG1B,CAA6B,EGHE,CAACC,CAAD,CAAL,CAASX,CHGnC,EAAsC,CGH9B,MAAqCN,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AHEgC,QGFhCA,CDECN,EFCLvC,OGHc,CDElB,ACFmB2D,CDECnB,GAApB,CCFwB,CDEC,ACFAoB,CAAD,CAAN,CAAV,OHGoB,CAAC7D,WAAD,CADY;AECtC,ACFK,AHCiC,GAAtC,MECO,CAAC,KAAKyC,GAAN,EAAWC,OAAX,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AHGJ;;AECDC,ACFIc,AHEG,IGFHA,GDEG,CAACvB,CFAQjC,KGFF,GAAG,GDEjB,CCFI,EDEmBgC,UFAhB,CAAkClH,OEAzC,AFAO,EAA2C;AEClD4H,ACFG,AHED,GGXuB,EASpB,CHEG3H,CEAD,ACXkB,CDWjBwH,ACXN,MHWc,GAAGtC,CEAnB,GAAqBsC,SFAnB,CEAF;ACDC,AHEC,AD7BF,IAAM/H,EC6BES,MD7BM,CC6BC,ED7BE,CC6BC,QAAhB,gBD7BF;AC8BE,AD7BF,IAAMR,OAAO,GAAG,kBC6BE;AGDlBqJ,AHEIhJ,AD7BFJ,EAAAA,EC6BEI,EGFE,CAAC4H,CJ3BC,EAAE,CC6BC,EAAP5H,CGFJ,EJ5BgB,CI4BC2I,GHCC,MGDlB;AHGI1I,AD7BFJ,EAAAA,EC6BEI,QAAQ,CD7BC,CC6BTA,CD7BW,OC2BG,MD7BF;ACgCZE,AD7BFL,EAAAA,EC6BEK,KD7BK,EC6BE,AD7BA,EC6BPA,OAHc;AAIdC,AD7BA,IC6BAA,aAAa,EAAE,CD7BC,ICyBF;AAKdgF,AD/BO,IC+BPA,eAAe,EAAE;AALH,AD7BF,CAAhB,EC6BE;AAOD,EAED;AD9BO,SAASrF,eAAT,OAOJ;AAAA,MANDC,OAMC,QANDA,OAMC;ACwBI,ADxBJ,MALDC,GC6BckF,KDxBb,QCwBI,AD7BLlF,CC6B4BuB,CAAvB,EAA0B,IDxB9B;ACyBDA,ADzBC,ECyBDA,CAAC,CAAC6D,cAAF,UD7BAnF,SAIC;AAAA,MAJDA,SAIC,+BAJW,IAIX;ACwB8B,ADxB9B,0BAHDC,GC6B6B,ID1B5B,8BC0BgDqB,CAAC,CAACkC,MAAtB,CAFE;AAAA,ADxB9B,MC0Be4B,AD7BhBnF,OAGC,CCwB8B,wBAEvBoF,ID7BE,EC2BqB,MDxB9B;AAAA,gCAFDnF,aAEC;AC2BD,AD3BC,MC2BK8D,AD7BN9D,MC6BY,GAAG,ID3Bd,qBC2BD,cD7BgB,KAEf;AC4BD,AD5BC,MC4BKoF,UAAU,GAAGhE,CAAC,CAACkC,MAAF,CAChBC,OADgB,AD7BnBtD,CC8BW,kBD7BV,WC4BkB,EAEhBS,aAFgB,CAEF,IAFE,CAAnB;AAGA,AD/BC,MC+BK2E,ADhCNpF,YCgCkB,GAAGqF,ID/BpB,aC+BqC,CAACF,UAAD,EAAaF,QAAb,CAAtC,GDhCsB,IACrB;ACgCDG,AD/BA,EC+BAA,ID/BMnF,IAAI,GAAGC,CC+BD,CAACsD,MD/BQ,CC+BrB,AD/BsBrD,CC+BDsD,KAArB,GAA6B,ID/BhB,CAAuB,IC+BpC,ED/Ba,CAAb;ACgCA6B,AD/BArF,EC+BAqF,AD/BArF,IAAI,CAACG,EC+BE,CAAC6E,MD/BR,CAAe5E,CC+BR,EAAWwD,AD/BlB,CAAmB,KC+BZ,CAAP,CAA0B9B,IAA1B,CAA+B,MD/B/B,IC+BgCC,GAAD,EAAS;AACtC,AD/BF,MAAM1B,EC+BA0B,GAAG,CAACuD,AD/BE,GAAG5F,EC+Bb,EAAe,GD/BK,CAACY,aAAvB;ACgCI6E,AD/BJ,MC+BIA,AD/BE5E,UAAU,E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","file":"account-page.js","sourceRoot":"../assets","sourcesContent":["const BASE_URL = \"/wp-json/recipe-list/v1\";\nconst OPTIONS = {\n  method: \"POST\",\n  credentials: \"same-origin\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n};\n\nexport function replaceWithForm({\n  element,\n  callback,\n  formLabel = null,\n  btnText = \"submit\",\n  replaceParent = false,\n  changeInnerTextOfEl = null,\n}) {\n  const form = document.createElement(\"form\");\n  form.classList.add(\"generated-inline\");\n  const parent = element.parentElement;\n  const changingEl =\n    changeInnerTextOfEl && parent.querySelector(changeInnerTextOfEl);\n\n  form.addEventListener(\"submit\", handleSubmit);\n\n  form.innerHTML = `\n    <input type=\"text\" class=\"small-inline-input\" value=\"${(changeInnerTextOfEl\n      ? changingEl.innerHTML\n      : \"&nbsp;\"\n    ).trim()}\"/> \n    <button type=\"submit\">${btnText}</button>\n    `;\n  if (replaceParent === false || !replaceParent) {\n    element.replaceWith(form);\n  } else {\n    parent.replaceWith(form);\n  }\n  form.elements[0].focus();\n  clickOutside(form.parentElement, formReset);\n\n  function handleSubmit(e) {\n    callback(e, parent);\n    formReset();\n    if (changeInnerTextOfEl) {\n      const newVal = form.querySelector(\".small-inline-input\").value;\n      changingEl.innerText = newVal;\n    }\n  }\n\n  function formReset() {\n    if (!replaceParent) {\n      form.replaceWith(element);\n    } else {\n      form.replaceWith(parent);\n    }\n    form.removeEventListener(\"submit\", handleSubmit);\n  }\n}\n\nexport function useApi(endpoint, data) {\n  const body = JSON.stringify(data);\n  return fetch(`${BASE_URL}/${endpoint}`, {\n    ...OPTIONS,\n    body,\n  }).then((res) => res.json());\n}\nexport function getInputValue(selector) {\n  const el = document.querySelector(selector);\n  const value = el.value;\n  return value;\n}\nexport function getInputValueByForm(form) {\n  const inputs = [...form.querySelectorAll(\"input\")];\n  const values = inputs.reduce((valueObj, input, index) => {\n    const { value, name } = input;\n    if (name) {\n      valueObj[name] = value;\n    } else {\n      valueObj[`index${index}`] = value;\n    }\n    return valueObj;\n  }, {});\n\n  return values;\n}\n\nexport function toggleOnOff(\n  actionElement,\n  parentElementSelector,\n  action = \"click\"\n) {\n  actionElement.addEventListener(action, toggleState);\n  if (action === \"click\") {\n    document.body.addEventListener(action, toggleOff);\n  }\n  function toggleState(e) {\n    const parentEl = e.target.closest(parentElementSelector);\n    const on = parentEl.dataset.state;\n    if (on) {\n      delete parentEl.dataset.state;\n    } else {\n      parentEl.dataset.state = \"on\";\n    }\n  }\n  function toggleOff(e) {\n    if (\n      document.contains(e.target) &&\n      !actionElement.closest(parentElementSelector).contains(e.target)\n    ) {\n      delete actionElement.closest(parentElementSelector).dataset.state;\n    }\n  }\n}\n\nexport function getUserId() {\n  return WP.userId;\n}\n\nfunction clickOutside(element, callback) {\n  document.body.addEventListener(\"click\", runCallBack);\n  function runCallBack(e) {\n    if (!element) return;\n\n    if (\n      document.contains(e.target) &&\n      !element.contains(e.target) &&\n      element !== e.target\n    ) {\n      callback();\n    }\n  }\n}\n\nexport function updateAllLists(newListItem, parenList) {\n  [...document.querySelectorAll(\".add-recipe-to-list\")].forEach((parentEl) => {\n    const clone = newListItem.cloneNode(true);\n    const list = parentEl.querySelector(\"ul\");\n    if (parenList === list) return;\n    list.prepend(clone);\n  });\n}\n","import {\n  replaceWithForm,\n  useApi,\n  getInputValueByForm,\n  getUserId,\n  updateAllLists,\n} from \"./helpers\";\n\nwindow.addEventListener(\"DOMContentLoaded\", initManagement);\n\nfunction initManagement() {\n  if (!document.querySelector(\".recipe-list-management-area\")) return;\n\n  const list = document.querySelector(\".my-lists\");\n  addListItemActionHandlers(list);\n\n  const listBottom = document.querySelector(\".lists-action\");\n  addCreateListHandler(listBottom);\n}\n\n//HANDLERS AND API CALLS\nexport function addCreateListHandler(parent) {\n  const showFormBtn = parent.querySelector(`[data-action='show-create-list']`);\n  showFormBtn.addEventListener(\"click\", () =>\n    handleShowCreateListForm(showFormBtn)\n  );\n}\nexport function handleShowCreateListForm(element) {\n  const callback = handleAddList;\n  const btnText = \"create\";\n  replaceWithForm({\n    element,\n    callback,\n    btnText,\n    replaceParent: false,\n    waitTillResolve: true,\n  });\n}\n\n//ADD LIST\nexport function handleAddList(e) {\n  e.preventDefault();\n  const { index0: listName } = getInputValueByForm(e.target);\n  const userId = getUserId();\n  const listParent = e.target\n    .closest(\".lists, .add-recipe-to-list\")\n    .querySelector(\"ul\");\n  const listItemCopy = createNewListItem(listParent, listName);\n  listItemCopy.dataset.state = \"loading\";\n  addList(listName, userId).then((res) => {\n    if (res.error) {\n      listItemCopy.dataset.state = \"error\";\n    } else {\n      const { list_id, link } = res.data;\n      const listItem = updateNewListItemWith({\n        listItemCopy,\n        list_id,\n        link,\n      });\n      listItem.dataset.state = \"idle\";\n      // this is for the recipe button\n      if (listParent.classList.contains(\"lists\")) {\n        updateAllLists(listItem, listParent);\n      }\n    }\n  });\n}\n\nfunction createNewListItem(listParent, listName) {\n  const listItemCopy = listParent.querySelector(\"li\").cloneNode(true);\n  listItemCopy.querySelector(\".recipe-title .title-el\").innerText = listName;\n  listParent.prepend(listItemCopy);\n  return listItemCopy;\n}\nfunction updateNewListItemWith({ listItemCopy, list_id, link }) {\n  listItemCopy.dataset.listId = list_id;\n  const titleEl = listItemCopy.querySelector(\".recipe-title .title-el\");\n  if (titleEl.hasAttribute(\"href\")) titleEl.setAttribute(\"href\", link);\n  return listItemCopy;\n}\n\nfunction addList(listName, userId) {\n  const data = { user_id: parseInt(userId), title: listName };\n  return useApi(\"create-list\", data);\n}\n\nfunction addListItemActionHandlers(list) {\n  list.addEventListener(\"click\", executeListItemAction);\n  function executeListItemAction(e) {\n    const item = e.target;\n    const { action } = item.dataset;\n    if (!action) return;\n\n    switch (action) {\n      case \"delete-list\":\n        handleDeleteList(item);\n        break;\n      case \"rename-list\":\n        handleRenameListBtnClick(item);\n    }\n  }\n}\n\n//DELETE LIST\nfunction handleDeleteList(element) {\n  const list = element.closest(\".list-item\");\n  const listId = list.dataset.listId;\n  const parentElement = list.parentElement;\n  const userId = getUserId();\n  list.dataset.state = \"loading\";\n  deleteList(listId, userId).then((res) => {\n    if (res.error) {\n      list.dataset.state = \"error\";\n    } else {\n      parentElement.removeChild(list);\n    }\n  });\n}\nfunction deleteList(listId, userId) {\n  const data = { list_id: parseInt(listId), user_id: parseInt(userId) };\n  return useApi(\"delete-list\", data);\n}\n\n//RENAME LIST\nfunction handleRenameListBtnClick(element) {\n  const titleEl = element\n    .closest(\".list-item\")\n    .querySelector(\".recipe-title a\");\n  replaceWithForm({\n    element,\n    callback: handleRenameRecipe,\n    btnText: \"rename\",\n    replaceParent: true,\n    changeInnerTextOfEl: \".recipe-title a\",\n  });\n}\nfunction handleRenameRecipe(e, parent) {\n  e.preventDefault();\n  const { index0: title } = getInputValueByForm(e.target);\n  const list = e.target.closest(\".list-item\");\n  const list_id = list.dataset.listId;\n  const titleEl = parent.querySelector(\"a\");\n  list.dataset.state = \"loading\";\n  useApi(\"rename-list\", { title, list_id }).then((res) => {\n    if (res.error) {\n      console.log(res.error);\n      list.dataset.state = \"error\";\n    } else {\n      console.log(\"ran\");\n      list.dataset.state = \"idle\";\n    }\n  });\n}\n\n//HANDLES ADDING ITEMS TO A LIST\n//THIS MAY NEED TO BE ADDED TO A NEW LIST\n\n// Jul 14, 2020 - Joseph changed this to accommodate his staging area.\n","import \"./scripts/account-page.js\";\nimport \"./styles/account-page.scss\";\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}