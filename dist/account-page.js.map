{"version":3,"sources":["scripts/helpers.js","scripts/account-page.js","account-page.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["BASE_URL","OPTIONS","method","credentials","headers","replaceWithForm","element","callback","formLabel","btnText","replaceParent","changeInnerTextOfEl","form","document","createElement","classList","add","parent","parentElement","changingEl","querySelector","addEventListener","handleSubmit","innerHTML","trim","replaceWith","elements","focus","clickOutside","formReset","e","newVal","value","innerText","removeEventListener","useApi","endpoint","data","body","JSON","stringify","fetch","then","res","json","getInputValue","selector","el","getInputValueByForm","inputs","querySelectorAll","values","reduce","valueObj","input","index","name","toggleOnOff","actionElement","parentElementSelector","action","toggleState","toggleOff","parentEl","target","closest","on","dataset","state","contains","getUserId","WP","userId","runCallBack","updateAllListsWithNewList","newListItem","parentList","updateAllListsWith","list","clone","cloneNode","prepend","updateAllListsWithNewCount","itemId","newCount","countToUpdate","forEach","window","initManagement","addListItemActionHandlers","listBottom","addCreateListHandler","showFormBtn","handleShowCreateListForm","handleAddList","waitTillResolve","preventDefault","listName","index0","listParent","listItemCopy","createNewListItem","addList","error","list_id","link","listItem","updateNewListItemWith","listId","titleEl","hasAttribute","setAttribute","user_id","parseInt","title","executeListItemAction","item","handleDeleteList","handleRenameListBtnClick","deleteList","removeChild","handleRenameRecipe","console","log","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","newLink","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","length","module"],"mappings":"AGAA,ACAA,IDAI4H,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBjC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAkC,CDDCf,MCCM,GDDX,ACCcnB,EDDE,ECCE,CAACzB,SAAL,EAAd;ADAE4C,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,EAAAA,OAAO,CAACC,MAAR,GAAiB,YAAY;AAC3BnC,IAAAA,IAAI,CAACoC,MAAL;ADCF,ACAC,GAFD,MDEOjB,SAAP;AACD;ACACe,AHPF,EGOEA,OAAO,CAACG,IAAR,GAAerC,IAAI,CAACqC,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDExC,EAAAA,IAAI,CAACyC,EDCEpB,QCDP,CAAgBqB,GDClB,GAAwB,MCDtB,CAA6BR,OAA7B,EAAsClC,IAAI,CAAC2C,WAA3C;ADEA,ACDD,AHDD7D,MAAM,CAAClE,gBAAP,CAAwB,kBAAxB,EAA4CmE,cAA5C;AEGE,MAAI;AACF,ACDJ,AHDA,IGCI6D,KHDK7D,CEEC,IAAIuC,ACDA,GAAG,EDCP,EAAN,ACDJ,EHDA,GAA0B;AEGvB,AFFD,GEAA,CAEE,EFFE,CAAClH,IEEImH,GAAP,CFFW,CEEC,AFFA5G,aAAT,CAAuB,8BAAvB,CAAL,EAA6D;AEG3D,ACFJ,AHCE,MAAM0D,EECAmD,CCFCqB,CHCG,GAAGzI,EECA,GAAG,ACFlB,CDEmB,ECFE,AHCE,CAACO,EECA4G,GAAG,CAACE,KAAV,EAAiBC,AFDpB,CAAuB,IECpB,CAAuB,MFD1B,CAAb,wDECgB,CAAd;ACDF,AHCA1C,EAAAA,IGDI4D,UAAJ,EAAgB,SHCS,CAACvE,IAAD,CAAzB;AECE,ACDA,AHEF,MAAMY,EEDAuC,OAAJ,CFCc,CEDD,EFCIpH,QAAQ,CAACO,aAAT,CAAuB,eAAvB,CAAnB;AEAI,ACDH,AHEDuE,EAAAA,WEDWyC,SFCS,CEDC,AFCA1C,CEDCuC,OAAO,CAAC,CAAD,AFCT,CEDC,AFCrB,CEDI;AACD,AFCJ,EAED;AEFG,ACDDoB,EAAAA,UAAU,GAAGE,UAAU,CAAC,YAAY;AAClC,QAAIC,KAAK,GAAG3I,QAAQ,CAACqC,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,AFCK,SEDE,AFCOyC,GEDd,iBFCK,CAA8B1E,MAA9B,EAAsC;AEA5C,ACFG,AHGF,MAAM2E,GGHC,IAAI6D,CAAC,GAAG,AHGE,CGHf,EAAgBA,AHGExI,CGHD,GAAGuI,EHGI,CAACpI,EGHA,CAACsI,MAA1B,EAAkCD,CAAC,CHGjB,CGHlB,EAAuC,iCHGzC;AGFI,AHGJ7D,EAAAA,QGHQ4C,GHGG,CAACnH,EGHE,CAAC+G,UAAP,CAAkBoB,EHG1B,CAA6B,EGHE,CAACC,CAAD,CAAL,CAASX,CHGnC,EAAsC,CGH9B,MAAqCN,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AHEgC,QGFhCA,CDECN,EFCLvC,OGHc,CDElB,ACFmB2D,CDECnB,GAApB,CCFwB,CDEC,ACFAoB,CAAD,CAAN,CAAV,OHGoB,CAAC7D,WAAD,CADY;AECtC,ACFK,AHCiC,GAAtC,MECO,CAAC,KAAKyC,GAAN,EAAWC,OAAX,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AHGJ;;AECDC,ACFIc,AHEG,IGFHA,GDEG,CAACvB,CFAQjC,KGFF,GAAG,GDEjB,CCFI,EDEmBgC,UFAhB,CAAkCvH,OEAzC,AFAO,EAA2C;AEClDiI,ACFG,AHED,GGXuB,EASpB,CHEGhI,CEAD,ACXkB,CDWjB6H,ACXN,MHWc,GAAGtC,CEAnB,GAAqBsC,SFAnB,CEAF;ACDC,AHEC,MAAM3H,OAAO,GAAG,QAAhB;AACA,AD9BF,IAAMT,QAAQ,GAAG,iBC8BC,QD9BlB;AI6BA2J,AHEIrJ,AD9BJ,IC8BIA,AD9BEL,EI4BA,CAACsI,IHEI,AD9BE,EC8BTjI,CGFJ,AJ5BgB,GI4BCgJ,GHCC,MGDlB;AHGI/I,AD9BFL,EAAAA,EC8BEK,ID9BI,EAAE,EC8BE,EAARA,ED/BY,MC6BE;AAGdE,AD9BFN,EAAAA,EC8BEM,OAAO,EAAPA,AD9BS,EAAE,KC2BG,QD7BF;ACiCZC,AD9BFN,EAAAA,EC8BEM,KD9BK,EAAE,MC8BM,EAAE,KAJD;AAKdqF,AD9BA,IC8BAA,eAAe,CD9BC,CC8BC;AALH,AD1BP,GC0BT;AAOD,ADpCe,CAAhB,CCsCA;;AD9BO,SAAS1F,eAAT,OAOJ;ACwBI,ADxBJ,MANDC,GC8BcwF,IDxBb,QANDxF,CC8BK,CAAuBwB,CAAvB,EAA0B,EDxB9B;ACyBDA,ADzBC,ECyBDA,CAAC,CAACkE,ED9BFzF,QAKC,ICyBD,ID9BAA,QAKC;AAAA,4BAJDC,SAIC;ACwB8B,ADxB9B,MAJDA,SAIC,cC0B4B,iBD9BjB,IAIX,aC0BgDsB,CAAC,CAACkC,MAAtB,CAFE;AAAA,ADxB9B,MC0BeiC,QAFe,YD3B/BxF,OAGC,KC0BOyF,MAFuB;ADxB9B,MAHDzF,OAGC,6BAHS,QAGT;AC2BD,AD3BC,MC2BK+D,MAAM,GAAG,iBD7Bf9D,QC6BA,KD3BC;AC4BD,AD5BC,MC4BKyF,AD9BNzF,UC8BgB,GAAGoB,AD5BlB,CC4BmB,CAACkC,MAAF,CAChBC,OADgB,CACR,kBD/BK,KAEf,MC4BkB,EAEhB7C,aAFgB,CAEF,IAFE,CAAnB;AAGA,AD/BC,MC+BKgF,YAAY,GAAGC,cDhCrB1F,GCgCsC,CAACwF,UAAD,EAAaF,GD/BlD,KC+BqC,CAAtC;AACAG,ADhCC,ECgCDA,IDjCAzF,QCiCY,CAACwD,OAAb,CAAqBC,EDhCpB,GCgCD,GAA6B,SAA7B,uBDjCsB,IACrB;ACiCDkC,ADhCA,ECgCAA,IDhCM1F,GCgCC,CAACqF,ADhCE,GAAGpF,KCgCN,EAAW2D,CDhCG,CAAC1D,ICgCf,CAAP,CAA0B4B,IAA1B,CAA+B,EDhClB,CAAuB,MAAvB,CCgCmBC,ADhChC,GCgC+B,EAAS;AACtC,ADhCF/B,EAAAA,IAAI,CAACG,CCgCC4B,GAAG,CAAC4D,IDhCV,CCgCE,ADhCavF,ECgCE,CDhCjB,CAAmB,kBAAnB;ACiCIoF,ADhCJ,MCgCIA,ADhCEnF,MAAM,GAAGX,GCgCC,CAAC6D,GDhCK,CAACjD,GCgCnB,CAAqBkD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","file":"account-page.js","sourceRoot":"../assets","sourcesContent":["const BASE_URL = \"/wp-json/recipe-list/v1\";\nconst OPTIONS = {\n  method: \"POST\",\n  credentials: \"same-origin\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n};\n\nexport function replaceWithForm({\n  element,\n  callback,\n  formLabel = null,\n  btnText = \"submit\",\n  replaceParent = false,\n  changeInnerTextOfEl = null,\n}) {\n  const form = document.createElement(\"form\");\n  form.classList.add(\"generated-inline\");\n  const parent = element.parentElement;\n  const changingEl =\n    changeInnerTextOfEl && parent.querySelector(changeInnerTextOfEl);\n\n  form.addEventListener(\"submit\", handleSubmit);\n\n  form.innerHTML = `\n    <input type=\"text\" class=\"small-inline-input\" value=\"${(changeInnerTextOfEl\n      ? changingEl.innerHTML\n      : \"&nbsp;\"\n    ).trim()}\"/> \n    <button type=\"submit\">${btnText}</button>\n    `;\n  if (replaceParent === false || !replaceParent) {\n    element.replaceWith(form);\n  } else {\n    parent.replaceWith(form);\n  }\n  form.elements[0].focus();\n  clickOutside(form.parentElement, formReset);\n\n  function handleSubmit(e) {\n    callback(e, parent);\n    formReset();\n    if (changeInnerTextOfEl) {\n      const newVal = form.querySelector(\".small-inline-input\").value;\n      changingEl.innerText = newVal;\n    }\n  }\n\n  function formReset() {\n    if (!replaceParent) {\n      form.replaceWith(element);\n    } else {\n      form.replaceWith(parent);\n    }\n    form.removeEventListener(\"submit\", handleSubmit);\n  }\n}\n\nexport function useApi(endpoint, data) {\n  const body = JSON.stringify(data);\n  return fetch(`${BASE_URL}/${endpoint}`, {\n    ...OPTIONS,\n    body,\n  }).then((res) => res.json());\n}\nexport function getInputValue(selector) {\n  const el = document.querySelector(selector);\n  const value = el.value;\n  return value;\n}\nexport function getInputValueByForm(form) {\n  const inputs = [...form.querySelectorAll(\"input\")];\n  const values = inputs.reduce((valueObj, input, index) => {\n    const { value, name } = input;\n    if (name) {\n      valueObj[name] = value;\n    } else {\n      valueObj[`index${index}`] = value;\n    }\n    return valueObj;\n  }, {});\n\n  return values;\n}\n\nexport function toggleOnOff(\n  actionElement,\n  parentElementSelector,\n  action = \"click\"\n) {\n  actionElement.addEventListener(action, toggleState);\n  if (action === \"click\") {\n    document.body.addEventListener(action, toggleOff);\n  }\n  function toggleState(e) {\n    const parentEl = e.target.closest(parentElementSelector);\n    const on = parentEl.dataset.state;\n    if (on) {\n      delete parentEl.dataset.state;\n    } else {\n      parentEl.dataset.state = \"on\";\n    }\n  }\n  function toggleOff(e) {\n    if (\n      document.contains(e.target) &&\n      !actionElement.closest(parentElementSelector).contains(e.target)\n    ) {\n      delete actionElement.closest(parentElementSelector).dataset.state;\n    }\n  }\n}\n\nexport function getUserId() {\n  return WP.userId;\n}\n\nfunction clickOutside(element, callback) {\n  document.body.addEventListener(\"click\", runCallBack);\n  function runCallBack(e) {\n    if (!element) return;\n\n    if (\n      document.contains(e.target) &&\n      !element.contains(e.target) &&\n      element !== e.target\n    ) {\n      callback();\n    }\n  }\n}\n\nexport function updateAllListsWithNewList(newListItem, parentList) {\n  updateAllListsWith((list) => {\n    const clone = newListItem.cloneNode(true);\n    if (parentList === list) return;\n    list.prepend(clone);\n  });\n}\nexport function updateAllListsWithNewCount({ itemId, newCount, parentList }) {\n  updateAllListsWith((list) => {\n    if (parentList === list) return;\n    const countToUpdate = list.querySelector(\n      `[data-list-id=\"${itemId}\"] .count`\n    );\n    countToUpdate.innerText = newCount;\n  });\n}\nfunction updateAllListsWith(callback) {\n  [...document.querySelectorAll(\".add-recipe-to-list\")].forEach((parentEl) => {\n    const list = parentEl.querySelector(\"ul\");\n    callback(list);\n  });\n}\n","import {\n  replaceWithForm,\n  useApi,\n  getInputValueByForm,\n  getUserId,\n  updateAllListsWithNewList,\n} from \"./helpers\";\n\nwindow.addEventListener(\"DOMContentLoaded\", initManagement);\n\nfunction initManagement() {\n  if (!document.querySelector(\".recipe-list-management-area\")) return;\n\n  const list = document.querySelector(\".my-lists\");\n  addListItemActionHandlers(list);\n\n  const listBottom = document.querySelector(\".lists-action\");\n  addCreateListHandler(listBottom);\n}\n\n//HANDLERS AND API CALLS\nexport function addCreateListHandler(parent) {\n  const showFormBtn = parent.querySelector(`[data-action='show-create-list']`);\n  showFormBtn.addEventListener(\"click\", () =>\n    handleShowCreateListForm(showFormBtn)\n  );\n}\nexport function handleShowCreateListForm(element) {\n  const callback = handleAddList;\n  const btnText = \"create\";\n  replaceWithForm({\n    element,\n    callback,\n    btnText,\n    replaceParent: false,\n    waitTillResolve: true,\n  });\n}\n\n//ADD LIST\nexport function handleAddList(e) {\n  e.preventDefault();\n  const { index0: listName } = getInputValueByForm(e.target);\n  const userId = getUserId();\n  const listParent = e.target\n    .closest(\".lists, .add-recipe-to-list\")\n    .querySelector(\"ul\");\n  const listItemCopy = createNewListItem(listParent, listName);\n  listItemCopy.dataset.state = \"loading\";\n  addList(listName, userId).then((res) => {\n    if (res.error) {\n      listItemCopy.dataset.state = \"error\";\n    } else {\n      const { list_id, link } = res.data;\n      const listItem = updateNewListItemWith({\n        listItemCopy,\n        list_id,\n        link,\n      });\n      listItem.dataset.state = \"idle\";\n      // this is for the recipe button\n      if (listParent.classList.contains(\"lists\")) {\n        updateAllListsWithNewList(listItem, listParent);\n      }\n    }\n  });\n}\n\nfunction createNewListItem(listParent, listName) {\n  const listItemCopy = listParent.querySelector(\"li\").cloneNode(true);\n  listItemCopy.querySelector(\".recipe-title .title-el\").innerText = listName;\n  listParent.prepend(listItemCopy);\n  return listItemCopy;\n}\nfunction updateNewListItemWith({ listItemCopy, list_id, link }) {\n  listItemCopy.dataset.listId = list_id;\n  const titleEl = listItemCopy.querySelector(\".recipe-title .title-el\");\n  if (titleEl.hasAttribute(\"href\")) titleEl.setAttribute(\"href\", link);\n  return listItemCopy;\n}\n\nfunction addList(listName, userId) {\n  const data = { user_id: parseInt(userId), title: listName };\n  return useApi(\"create-list\", data);\n}\n\nfunction addListItemActionHandlers(list) {\n  list.addEventListener(\"click\", executeListItemAction);\n  function executeListItemAction(e) {\n    const item = e.target;\n    const { action } = item.dataset;\n    if (!action) return;\n\n    switch (action) {\n      case \"delete-list\":\n        handleDeleteList(item);\n        break;\n      case \"rename-list\":\n        handleRenameListBtnClick(item);\n    }\n  }\n}\n\n//DELETE LIST\nfunction handleDeleteList(element) {\n  const list = element.closest(\".list-item\");\n  const listId = list.dataset.listId;\n  const parentElement = list.parentElement;\n  const userId = getUserId();\n  list.dataset.state = \"loading\";\n  deleteList(listId, userId).then((res) => {\n    if (res.error) {\n      list.dataset.state = \"error\";\n    } else {\n      parentElement.removeChild(list);\n    }\n  });\n}\nfunction deleteList(listId, userId) {\n  const data = { list_id: parseInt(listId), user_id: parseInt(userId) };\n  return useApi(\"delete-list\", data);\n}\n\n//RENAME LIST\nfunction handleRenameListBtnClick(element) {\n  const titleEl = element\n    .closest(\".list-item\")\n    .querySelector(\".recipe-title a\");\n  replaceWithForm({\n    element,\n    callback: handleRenameRecipe,\n    btnText: \"rename\",\n    replaceParent: true,\n    changeInnerTextOfEl: \".recipe-title a\",\n  });\n}\nfunction handleRenameRecipe(e, parent) {\n  e.preventDefault();\n  const { index0: title } = getInputValueByForm(e.target);\n  const list = e.target.closest(\".list-item\");\n  const list_id = list.dataset.listId;\n  const titleEl = parent.querySelector(\"a\");\n  list.dataset.state = \"loading\";\n  useApi(\"rename-list\", { title, list_id }).then((res) => {\n    if (res.error) {\n      console.log(res.error);\n      list.dataset.state = \"error\";\n    } else {\n      console.log(\"ran\");\n      list.dataset.state = \"idle\";\n    }\n  });\n}\n\n//HANDLES ADDING ITEMS TO A LIST\n//THIS MAY NEED TO BE ADDED TO A NEW LIST\n\n// Jul 14, 2020 - Joseph changed this to accommodate his staging area.\n","import \"./scripts/account-page.js\";\nimport \"./styles/account-page.scss\";\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}