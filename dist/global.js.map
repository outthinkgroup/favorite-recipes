{"version":3,"sources":["scripts/helpers.js","scripts/account-page.js","scripts/add-recipe-button.js","global.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["BASE_URL","OPTIONS","method","credentials","headers","replaceWithForm","element","callback","formLabel","btnText","replaceParent","changeInnerTextOfEl","form","document","createElement","classList","add","parent","parentElement","changingEl","querySelector","addEventListener","handleSubmit","innerHTML","trim","replaceWith","elements","focus","clickOutside","formReset","e","newVal","value","innerText","removeEventListener","useApi","endpoint","data","body","JSON","stringify","fetch","then","res","json","getInputValue","selector","el","getInputValueByForm","inputs","querySelectorAll","values","reduce","valueObj","input","index","name","toggleOnOff","actionElement","parentElementSelector","action","toggleState","toggleOff","parentEl","target","closest","on","dataset","state","contains","getUserId","WP","userId","runCallBack","updateAllLists","newListItem","parenList","forEach","clone","cloneNode","list","prepend","window","initManagement","addListItemActionHandlers","listBottom","addCreateListHandler","showFormBtn","handleShowCreateListForm","handleAddList","waitTillResolve","preventDefault","listName","index0","listParent","listItemCopy","createNewListItem","addList","error","list_id","link","listItem","updateNewListItemWith","listId","titleEl","hasAttribute","setAttribute","user_id","parseInt","title","executeListItemAction","item","handleDeleteList","handleRenameListBtnClick","deleteList","removeChild","handleRenameRecipe","console","log","addRecipeToListButtonInit","mainComponents","component","perMainComponentDo","toggleButton","handleRecipeListItemActionFromButton","clickedItem","button","addRecipeToList","recipeId","plusOneCountFor","item_id","allListWithID","countEl","updatedCount","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","newLink","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","length","module"],"mappings":"AIAA,ACAA,IDAIsI,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,ADAA,SECSZ,ACCAa,UAAT,CAAoBhD,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAiD,CDDCf,MCCM,GDDX,ACCclC,EDDE,ECCE,CAACrB,SAAL,EAAd;ADAEuD,ADFJ,ADAA,IEEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,EAAAA,OAAO,CAACC,MAAR,GAAiB,YAAY;AAC3BlD,IAAAA,IAAI,CAACmD,MAAL;ADCF,ACAC,GAFD,MDEOjB,SAAP;AACD;ACACe,AJPF,EIOEA,OAAO,CAACG,IAAR,GAAepD,IAAI,CAACoD,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEvD,EAAAA,IAAI,CAACwD,EDCEpB,QCDP,CAAgBqB,GDClB,GAAwB,MCDtB,CAA6BR,OAA7B,EAAsCjD,IAAI,CAAC0D,WAA3C;ADEA,ACDD,AJDD5E,MAAM,CAAC7D,gBAAP,CAAwB,kBAAxB,EAA4C8D,cAA5C;AGGE,MAAI;AACF,ACDJ,AJDA,IICI4E,KJDK5E,CGEC,IAAIsD,ACDA,GAAG,EDCP,EAAN,ACDJ,EJDA,GAA0B;AGGvB,AHFD,GGAA,CAEE,EHFE,CAAC5H,IGEI6H,GAAP,CHFW,CGEC,AHFAtH,aAAT,CAAuB,8BAAvB,CAAL,EAA6D;AGG3D,ACFJ,AJCE,MAAM4D,EGCA2D,CCFCqB,CJCG,GAAGnJ,EGCA,GAAG,ACFlB,CDEmB,ECFE,AJCE,CAACO,EGCAsH,GAAG,CAACE,KAAV,EAAiBC,AHDpB,CAAuB,IGCpB,CAAuB,MHD1B,CAAb,wDGCgB,CAAd;ACDF,AJCAzD,EAAAA,IIDI2E,UAAJ,EAAgB,SJCS,CAAC/E,IAAD,CAAzB;AGCE,ACDA,AJEF,MAAMK,EGDAsD,OAAJ,CHCc,CGDD,EHCI9H,QAAQ,CAACO,aAAT,CAAuB,eAAvB,CAAnB;AGAI,ACDH,AJEDkE,ACfFJ,EDeEI,ICfI,CAACjE,MEcMyH,SHCS,CGDC,AHCAzD,ACfvB,CEcwBsD,AFdA,OEcO,CAAC,CAAD,AHCT,CGDC,AHCrB,CGDI,OFdN,EAA4CpB,yBAA5C;AEeK,AHCJ,EAED;AGFG,ACDDwC,AHdF,EGcEA,OHdOxC,GGcG,GAAG0C,UAAU,CAAC,QHd1B,GAAqC,CGcC;AAClC,AHdF,MAAMzC,EGcA0C,KAAK,GAAGrJ,IHdM,IGcE,CAACqC,gBAAT,CAA0B,AHdbrC,QAAQ,CAACqC,eGctB,CAAZ,AHdyB,CAA0B,qBAA1B,CAAP,CAApB;AEgBA,AHCK,SGDE,AHCOoC,GGDd,iBHCK,CAA8BrE,MAA9B,EAAsC;AGA5C,ACFG,AJGF,ACjBAuG,EAAAA,IDiBMjC,GIHC,IAAI4E,CAAC,EHdE,CGcC,AJGE,ACjBFtF,CGcb,EAAgBsF,AJGElJ,CIHD,GAAGiJ,AHdtB,CAAuB,CDiBG,CAAC9I,EIHA,CAACgJ,KHdJ3C,CGctB,EAAkC0C,CAAC,CJGjB,CIHlB,EAAuC,CHdlB,gCDiBvB;AIFI,AJGJ5E,AClBuB,EDkBvBA,QIHQ2D,CHf8BxB,EDkB3B,CAACrG,EIHE,CAACyH,UAAP,CAAkBoB,CHf8B,CDkBxD,AClByDzC,CDkB5B,EIHE,CAAC0C,CAAD,CAAL,CAASX,CJGnC,CClBwD,CDkBlB,AClBf,CGef,MAAqCN,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AJEgC,AClBf,GAAvB,KGgBMA,CDECN,EHCLtD,OIHc,CDElB,ACFmB0E,CDECnB,GAApB,CCFwB,CDEC,ACFAoB,CAAD,CAAN,CAAV,OJGoB,CAAC5E,WAAD,CADY;AGCtC,ACFK,AJCiC,ACjBvC,GDiBC,MGCO,CAAC,KAAKwD,GAAN,EAAWC,OAAX,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AJGJ;AClBD,SAAStB,kBAAT,CAA4BD,SAA5B,EAAuC;AEmBvCwB,ACFIc,AJEG,AClBL,IGgBEA,EHhBIpC,CEkBD,CAACa,CHAQhD,KIFF,GAAG,CHhBG,EEkBpB,CCFI,AHhBmBiC,EEkBAc,OFlBS,CAACnH,EDkB1B,CAAkCd,OGAzC,AHAO,EAA2C,CClB3B,CAAwB,6BAAxB,CAArB;AEmBF2I,ACFG,AJED,AClBA,GGOuB,EASpB,CJEG1I,CGAD,ACXkB,CDWjBuI,ACXN,MJWc,GAAGrD,CGAnB,GAAqBqD,OFlBPnB,EDkBZ,CGAF,SFlBE,EAA0B,qBAA1B;AGiBD,AJEC,ACjBA,AFZF,IAAM3H,EC6BES,ACjBAuE,IAAI,EFZE,CC6BC,ACjBAyC,EFZE,CC6BC,MCjBM,CAACrG,CDiBvB,YCjBa,CAAwB,GFZvC,YEYe,CAAb;ADkBA,ACjBA4D,AFZF,EEYEA,EFZI/E,EEYA,CAACoB,IFZM,GAAG,SEYd,CAAsB,OAAtB,CDiBgB,CCjBeuG,oCAA/B;AGgBFyC,AJEI/J,AD7BFJ,EAAAA,EC6BEI,EIFE,CAAC2I,CL3BC,EAAE,CC6BC,EAAP3I,CIFJ,EL5BgB,CK4BC0J,GJCC,MIDlB;AJGIzJ,ACjBF,AFZAJ,EAAAA,EC6BEI,OCjBOqH,CDiBC,CD7BC,CC6BTrH,CD7BW,OC2BG,MD7BF,mBEcd,CAA8CuB,CAA9C,EAAiD;ADkB/CrB,ACjBA,AFZFL,EAAAA,EC6BEK,ICjBMoH,CFZD,EC6BE,AD7BA,EC6BPpH,MCjBiB,CDcH,ECdMqB,CAAC,CAACkC,MAAtB;ADkBAtD,ACjBA,AFZA,IC6BAA,ICjBMoH,MAAM,GDiBC,ACjBED,EDiBA,CD7BC,ICyBF,ICbY,CAAC5D,OAAZ,CAAoB,eAApB,CAAf;ADkBAyB,ACjBA,AFdO,IC+BPA,ICjBM9B,MAAM,GAAGkE,EDiBA,EAAE,ECjBI,IAAIA,MAAM,CAAC3D,OAAP,CAAeP,MAAxC;ADYc,ACXd,AFlBY,CAAhB,EC6BE,KCXM,CAACA,MAAL,EAAa;ADkBhB,EAED;AClBI,AFZG,SAASvD,GEYJuD,MAAR,MFZG,OAOJ;AEMG,AFNH,MANDtD,KEYS,EFNR,QANDA,EEYI,KFNH;ACwBI,ACjBCyH,AFPL,MALDxH,EEYMwH,CDiBQtC,KDxBb,QCwBI,AD7BLlF,CC6B4BuB,ACjBP,CDiBhB,ACjBiB,EDiBS,IDxB9B;ACyBDA,ACjBQkG,AFRP,ECyBDlG,CAAC,CAAC6D,MCjBMqC,QDiBR,ACjBgB,EAAEP,QFZlBjH,CEY2B,CAAC2D,OAAV,AFRjB,CEQmC6D,QADd;AAEdzB,AFTP,MAJD/F,IEaQ+F,KFTP,CESa,EAAEuB,MAAM,CAAC5G,aAAP,CAAqBiD,OAArB,AFbJ,CEaiCoC,GFT5C;ACwB8B,ACjBT,AFPrB,SEOoB,CAAf,gBFVN9F,GC6B6B,ID1B5B,8BC0BgDqB,CAAC,CAACkC,MAAtB,CAFE;AAAA,ACbzBiE,AFXL,MC0BerC,AD7BhBnF,EEcMwH,KFXL,CCwB8B,SCbV,CAACH,MAAM,CAAC5G,ODerB2E,ID7BE,EC2BqB,ACbT,CAAqB1B,KFX1C,EEWqB,CAA6BoC,MAA9B,CAAf;AACA,AFZL,gCAFD7F,aAEC;AC2BD,AD3BC,MC2BK8D,AD7BN9D,MC6BY,GAAG,ID3Bd,qBC2BD,cD7BgB,KAEf;AC4BD,ACfI,AFbH,MC4BKoF,KCfG,KDeO,GAAGhE,CAAC,CAACkC,MAAF,CAChBC,CChBC,MDee,AD7BnBtD,CC8BW,kBD7BV,WC4BkB,EAEhBS,aAFgB,CAEF,IAFE,CAAnB;AAGA,ACjBM,AFdL,MC+BK2E,ADhCNpF,YCgCkB,GAAGqF,ID/BpB,aC+BqC,CAACF,UAAD,EAAaF,ACjBpBkC,MAAzB,EDiBgC,CAAtC,GDhCsB,IACrB;ACgCD/B,AD/BA,EC+BAA,ID/BMnF,IAAI,GAAGC,CC+BD,CAACsD,MD/BQ,CC+BrB,AD/BsBrD,CC+BDsD,KAArB,GAA6B,ID/BhB,CAAuB,IC+BpC,ED/Ba,CAAb;ACgCA6B,AClBI,AFbJrF,EC+BAqF,AD/BArF,IAAI,CAACG,EC+BE,CAAC6E,MD/BR,CAAe5E,CC+BR,EAAWwD,AD/BlB,CAAmB,KC+BZ,CAAP,CAA0B9B,IAA1B,CAA+B,MD/B/B,IC+BgCC,GAAD,EAAS;AACtC,AClBI0E,AFbN,MAAMpG,EC+BA0B,AClBA0E,GDkBG,CAACnB,AD/BE,GEaC,AFbE5F,CEaDgH,CDkBZ,EAAe,AClBX,CAAY,EFbI,CAACpG,aAAvB,KEaM;ADmBF6E,AClBE,AFbN,MC+BIA,AD/BE5E,UAAU,EC+BA,CAACgD,AD9BfxD,OC8BE,CAAqByD,KAArB,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","file":"global.js","sourceRoot":"../assets","sourcesContent":["const BASE_URL = \"/wp-json/recipe-list/v1\";\nconst OPTIONS = {\n  method: \"POST\",\n  credentials: \"same-origin\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n};\n\nexport function replaceWithForm({\n  element,\n  callback,\n  formLabel = null,\n  btnText = \"submit\",\n  replaceParent = false,\n  changeInnerTextOfEl = null,\n}) {\n  const form = document.createElement(\"form\");\n  form.classList.add(\"generated-inline\");\n  const parent = element.parentElement;\n  const changingEl =\n    changeInnerTextOfEl && parent.querySelector(changeInnerTextOfEl);\n\n  form.addEventListener(\"submit\", handleSubmit);\n\n  form.innerHTML = `\n    <input type=\"text\" class=\"small-inline-input\" value=\"${(changeInnerTextOfEl\n      ? changingEl.innerHTML\n      : \"&nbsp;\"\n    ).trim()}\"/> \n    <button type=\"submit\">${btnText}</button>\n    `;\n  if (replaceParent === false || !replaceParent) {\n    element.replaceWith(form);\n  } else {\n    parent.replaceWith(form);\n  }\n  form.elements[0].focus();\n  clickOutside(form.parentElement, formReset);\n\n  function handleSubmit(e) {\n    callback(e, parent);\n    formReset();\n    if (changeInnerTextOfEl) {\n      const newVal = form.querySelector(\".small-inline-input\").value;\n      changingEl.innerText = newVal;\n    }\n  }\n\n  function formReset() {\n    if (!replaceParent) {\n      form.replaceWith(element);\n    } else {\n      form.replaceWith(parent);\n    }\n    form.removeEventListener(\"submit\", handleSubmit);\n  }\n}\n\nexport function useApi(endpoint, data) {\n  const body = JSON.stringify(data);\n  return fetch(`${BASE_URL}/${endpoint}`, {\n    ...OPTIONS,\n    body,\n  }).then((res) => res.json());\n}\nexport function getInputValue(selector) {\n  const el = document.querySelector(selector);\n  const value = el.value;\n  return value;\n}\nexport function getInputValueByForm(form) {\n  const inputs = [...form.querySelectorAll(\"input\")];\n  const values = inputs.reduce((valueObj, input, index) => {\n    const { value, name } = input;\n    if (name) {\n      valueObj[name] = value;\n    } else {\n      valueObj[`index${index}`] = value;\n    }\n    return valueObj;\n  }, {});\n\n  return values;\n}\n\nexport function toggleOnOff(\n  actionElement,\n  parentElementSelector,\n  action = \"click\"\n) {\n  actionElement.addEventListener(action, toggleState);\n  if (action === \"click\") {\n    document.body.addEventListener(action, toggleOff);\n  }\n  function toggleState(e) {\n    const parentEl = e.target.closest(parentElementSelector);\n    const on = parentEl.dataset.state;\n    if (on) {\n      delete parentEl.dataset.state;\n    } else {\n      parentEl.dataset.state = \"on\";\n    }\n  }\n  function toggleOff(e) {\n    if (\n      document.contains(e.target) &&\n      !actionElement.closest(parentElementSelector).contains(e.target)\n    ) {\n      delete actionElement.closest(parentElementSelector).dataset.state;\n    }\n  }\n}\n\nexport function getUserId() {\n  return WP.userId;\n}\n\nfunction clickOutside(element, callback) {\n  document.body.addEventListener(\"click\", runCallBack);\n  function runCallBack(e) {\n    if (!element) return;\n\n    if (\n      document.contains(e.target) &&\n      !element.contains(e.target) &&\n      element !== e.target\n    ) {\n      callback();\n    }\n  }\n}\n\nexport function updateAllLists(newListItem, parenList) {\n  [...document.querySelectorAll(\".add-recipe-to-list\")].forEach((parentEl) => {\n    const clone = newListItem.cloneNode(true);\n    const list = parentEl.querySelector(\"ul\");\n    if (parenList === list) return;\n    list.prepend(clone);\n  });\n}\n","import {\n  replaceWithForm,\n  useApi,\n  getInputValueByForm,\n  getUserId,\n  updateAllLists,\n} from \"./helpers\";\n\nwindow.addEventListener(\"DOMContentLoaded\", initManagement);\n\nfunction initManagement() {\n  if (!document.querySelector(\".recipe-list-management-area\")) return;\n\n  const list = document.querySelector(\".my-lists\");\n  addListItemActionHandlers(list);\n\n  const listBottom = document.querySelector(\".lists-action\");\n  addCreateListHandler(listBottom);\n}\n\n//HANDLERS AND API CALLS\nexport function addCreateListHandler(parent) {\n  const showFormBtn = parent.querySelector(`[data-action='show-create-list']`);\n  showFormBtn.addEventListener(\"click\", () =>\n    handleShowCreateListForm(showFormBtn)\n  );\n}\nexport function handleShowCreateListForm(element) {\n  const callback = handleAddList;\n  const btnText = \"create\";\n  replaceWithForm({\n    element,\n    callback,\n    btnText,\n    replaceParent: false,\n    waitTillResolve: true,\n  });\n}\n\n//ADD LIST\nexport function handleAddList(e) {\n  e.preventDefault();\n  const { index0: listName } = getInputValueByForm(e.target);\n  const userId = getUserId();\n  const listParent = e.target\n    .closest(\".lists, .add-recipe-to-list\")\n    .querySelector(\"ul\");\n  const listItemCopy = createNewListItem(listParent, listName);\n  listItemCopy.dataset.state = \"loading\";\n  addList(listName, userId).then((res) => {\n    if (res.error) {\n      listItemCopy.dataset.state = \"error\";\n    } else {\n      const { list_id, link } = res.data;\n      const listItem = updateNewListItemWith({\n        listItemCopy,\n        list_id,\n        link,\n      });\n      listItem.dataset.state = \"idle\";\n      // this is for the recipe button\n      if (listParent.classList.contains(\"lists\")) {\n        updateAllLists(listItem, listParent);\n      }\n    }\n  });\n}\n\nfunction createNewListItem(listParent, listName) {\n  const listItemCopy = listParent.querySelector(\"li\").cloneNode(true);\n  listItemCopy.querySelector(\".recipe-title .title-el\").innerText = listName;\n  listParent.prepend(listItemCopy);\n  return listItemCopy;\n}\nfunction updateNewListItemWith({ listItemCopy, list_id, link }) {\n  listItemCopy.dataset.listId = list_id;\n  const titleEl = listItemCopy.querySelector(\".recipe-title .title-el\");\n  if (titleEl.hasAttribute(\"href\")) titleEl.setAttribute(\"href\", link);\n  return listItemCopy;\n}\n\nfunction addList(listName, userId) {\n  const data = { user_id: parseInt(userId), title: listName };\n  return useApi(\"create-list\", data);\n}\n\nfunction addListItemActionHandlers(list) {\n  list.addEventListener(\"click\", executeListItemAction);\n  function executeListItemAction(e) {\n    const item = e.target;\n    const { action } = item.dataset;\n    if (!action) return;\n\n    switch (action) {\n      case \"delete-list\":\n        handleDeleteList(item);\n        break;\n      case \"rename-list\":\n        handleRenameListBtnClick(item);\n    }\n  }\n}\n\n//DELETE LIST\nfunction handleDeleteList(element) {\n  const list = element.closest(\".list-item\");\n  const listId = list.dataset.listId;\n  const parentElement = list.parentElement;\n  const userId = getUserId();\n  list.dataset.state = \"loading\";\n  deleteList(listId, userId).then((res) => {\n    if (res.error) {\n      list.dataset.state = \"error\";\n    } else {\n      parentElement.removeChild(list);\n    }\n  });\n}\nfunction deleteList(listId, userId) {\n  const data = { list_id: parseInt(listId), user_id: parseInt(userId) };\n  return useApi(\"delete-list\", data);\n}\n\n//RENAME LIST\nfunction handleRenameListBtnClick(element) {\n  const titleEl = element\n    .closest(\".list-item\")\n    .querySelector(\".recipe-title a\");\n  replaceWithForm({\n    element,\n    callback: handleRenameRecipe,\n    btnText: \"rename\",\n    replaceParent: true,\n    changeInnerTextOfEl: \".recipe-title a\",\n  });\n}\nfunction handleRenameRecipe(e, parent) {\n  e.preventDefault();\n  const { index0: title } = getInputValueByForm(e.target);\n  const list = e.target.closest(\".list-item\");\n  const list_id = list.dataset.listId;\n  const titleEl = parent.querySelector(\"a\");\n  list.dataset.state = \"loading\";\n  useApi(\"rename-list\", { title, list_id }).then((res) => {\n    if (res.error) {\n      console.log(res.error);\n      list.dataset.state = \"error\";\n    } else {\n      console.log(\"ran\");\n      list.dataset.state = \"idle\";\n    }\n  });\n}\n\n//HANDLES ADDING ITEMS TO A LIST\n//THIS MAY NEED TO BE ADDED TO A NEW LIST\n\n// Jul 14, 2020 - Joseph changed this to accommodate his staging area.\n","import { useApi, toggleOnOff } from \"./helpers\";\nimport { addCreateListHandler, handleShowCreateListForm } from \"./account-page\";\nwindow.addEventListener(\"DOMContentLoaded\", addRecipeToListButtonInit);\nfunction addRecipeToListButtonInit() {\n  const mainComponents = [...document.querySelectorAll(\".add-recipe-to-list\")];\n  mainComponents.forEach((component) => perMainComponentDo(component));\n}\n\nfunction perMainComponentDo(component) {\n  const toggleButton = component.querySelector('[data-action=\"toggle-list\"]');\n  toggleOnOff(toggleButton, \".add-recipe-to-list\");\n\n  const list = component.querySelector(\".button-lists\");\n  list.addEventListener(\"click\", handleRecipeListItemActionFromButton);\n\n  function handleRecipeListItemActionFromButton(e) {\n    const clickedItem = e.target;\n    const button = clickedItem.closest(\"[data-action]\");\n    const action = button && button.dataset.action;\n    if (!action) return;\n\n    switch (action) {\n      case \"add-recipe\":\n        addRecipeToList({\n          recipeId: component.dataset.recipeId,\n          listId: button.parentElement.dataset.listId,\n        });\n        plusOneCountFor(button.parentElement.dataset.listId);\n        break;\n      case \"show-create-list\":\n        handleShowCreateListForm(button);\n      default:\n        console.log(\"no action was given\");\n        break;\n    }\n  }\n\n  function addRecipeToList({ recipeId, listId }) {\n    return useApi(\"add-item\", { item_id: parseInt(recipeId), list_id: listId });\n  }\n\n  function plusOneCountFor(listId) {\n    const allListWithID = document.querySelectorAll(\n      `[data-list-id=\"${listId}\"]`\n    );\n    allListWithID.forEach((list) => {\n      const countEl = list.querySelector(\".recipe-title .count\");\n      const updatedCount = parseInt(countEl.innerText) + 1;\n      countEl.innerText = updatedCount;\n    });\n  }\n}\n","import \"./scripts/add-recipe-button.js\";\nimport \"./styles/global.scss\";\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}