{"id":"ExYO","dependencies":[{"name":"/Users/joshkennedy00/sites/dev/nicolehunn-members/app/public/wp-content/plugins/favorite-recipes/package.json","includedInParent":true,"mtime":1594839355246},{"name":"./helpers","loc":{"line":6,"column":7},"parent":"/Users/joshkennedy00/sites/dev/nicolehunn-members/app/public/wp-content/plugins/favorite-recipes/assets/scripts/account-page.js","resolved":"/Users/joshkennedy00/sites/dev/nicolehunn-members/app/public/wp-content/plugins/favorite-recipes/assets/scripts/helpers.js"},{"name":"./add-list","loc":{"line":7,"column":37},"parent":"/Users/joshkennedy00/sites/dev/nicolehunn-members/app/public/wp-content/plugins/favorite-recipes/assets/scripts/account-page.js","resolved":"/Users/joshkennedy00/sites/dev/nicolehunn-members/app/public/wp-content/plugins/favorite-recipes/assets/scripts/add-list.js"}],"generated":{"js":"\"use strict\";var e=require(\"./helpers\"),t=require(\"./add-list\");function r(){document.querySelector(\".recipe-list-management-area\")&&(n(document.querySelector(\".my-lists\")),document.querySelectorAll(\".lists-action\").forEach(function(e){return(0,t.addCreateListHandler)(e)}))}function n(e){e.addEventListener(\"click\",function(e){console.log(\"ran\"),function(e){var t=e.target,r=t.dataset.action;if(!r)return;switch(console.log(r,t),r){case\"delete-list\":return void a(t);case\"rename-list\":s(t)}}(e)})}function a(t){var r=t.closest(\".list-item\"),n=r.dataset.listId,a=(0,e.getUserId)(),s=r.parentElement;r.dataset.state=\"hidden\",i(n,a).then(function(e){e.error?handleError(e.error,r):s.contains(r)&&s.removeChild(r)})}function i(t,r){var n={list_id:parseInt(t),user_id:parseInt(r)};return(0,e.useApi)(\"delete-list\",n)}function s(t){(0,e.replaceWithForm)({element:t,callback:l,btnText:\"rename\",replaceParent:!0,changeInnerTextOfEl:\".recipe-title a\"})}function l(t,r){t.preventDefault();var n=(0,e.getInputValueByForm)(t.target).index0,a=t.target.closest(\".list-item\"),i=a.dataset.listId;a.dataset.state=\"loading\",(0,e.useApi)(\"rename-list\",{title:n,list_id:i}).then(function(e){e.error?handleError(e.error,a):a.dataset.state=\"idle\"})}window.addEventListener(\"DOMContentLoaded\",r);"},"sourceMaps":{"js":{"mappings":[{"source":"scripts/account-page.js","original":{"line":95,"column":0},"generated":{"line":1,"column":0}},{"source":"scripts/account-page.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"scripts/account-page.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"scripts/account-page.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"scripts/account-page.js","original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"scripts/account-page.js","original":{"line":7,"column":0},"generated":{"line":1,"column":40}},{"source":"scripts/account-page.js","original":{"line":7,"column":0},"generated":{"line":1,"column":42}},{"source":"scripts/account-page.js","original":{"line":7,"column":0},"generated":{"line":1,"column":50}},{"source":"scripts/account-page.js","original":{"line":11,"column":0},"generated":{"line":1,"column":64}},{"source":"scripts/account-page.js","name":"initManagement","original":{"line":11,"column":9},"generated":{"line":1,"column":73}},{"source":"scripts/account-page.js","name":"document","original":{"line":12,"column":7},"generated":{"line":1,"column":77}},{"source":"scripts/account-page.js","name":"querySelector","original":{"line":12,"column":16},"generated":{"line":1,"column":86}},{"source":"scripts/account-page.js","original":{"line":12,"column":30},"generated":{"line":1,"column":100}},{"source":"scripts/account-page.js","name":"addListItemActionHandlers","original":{"line":15,"column":2},"generated":{"line":1,"column":134}},{"source":"scripts/account-page.js","name":"document","original":{"line":14,"column":15},"generated":{"line":1,"column":136}},{"source":"scripts/account-page.js","name":"querySelector","original":{"line":14,"column":24},"generated":{"line":1,"column":145}},{"source":"scripts/account-page.js","original":{"line":14,"column":38},"generated":{"line":1,"column":159}},{"source":"scripts/account-page.js","name":"document","original":{"line":17,"column":2},"generated":{"line":1,"column":173}},{"source":"scripts/account-page.js","name":"querySelectorAll","original":{"line":18,"column":5},"generated":{"line":1,"column":182}},{"source":"scripts/account-page.js","original":{"line":18,"column":22},"generated":{"line":1,"column":199}},{"source":"scripts/account-page.js","name":"forEach","original":{"line":19,"column":5},"generated":{"line":1,"column":216}},{"source":"scripts/account-page.js","original":{"line":19,"column":13},"generated":{"line":1,"column":224}},{"source":"scripts/account-page.js","name":"listBottom","original":{"line":19,"column":14},"generated":{"line":1,"column":233}},{"source":"scripts/account-page.js","original":{"line":19,"column":29},"generated":{"line":1,"column":236}},{"source":"scripts/account-page.js","original":{"line":19,"column":29},"generated":{"line":1,"column":243}},{"source":"scripts/account-page.js","name":"listBottom","original":{"line":19,"column":50},"generated":{"line":1,"column":245}},{"source":"scripts/account-page.js","name":"listBottom","original":{"line":19,"column":50},"generated":{"line":1,"column":247}},{"source":"scripts/account-page.js","name":"listBottom","original":{"line":19,"column":50},"generated":{"line":1,"column":269}},{"source":"scripts/account-page.js","original":{"line":24,"column":0},"generated":{"line":1,"column":275}},{"source":"scripts/account-page.js","name":"addListItemActionHandlers","original":{"line":24,"column":9},"generated":{"line":1,"column":284}},{"source":"scripts/account-page.js","name":"lists","original":{"line":24,"column":35},"generated":{"line":1,"column":286}},{"source":"scripts/account-page.js","name":"lists","original":{"line":25,"column":2},"generated":{"line":1,"column":289}},{"source":"scripts/account-page.js","name":"addEventListener","original":{"line":25,"column":8},"generated":{"line":1,"column":291}},{"source":"scripts/account-page.js","original":{"line":25,"column":25},"generated":{"line":1,"column":308}},{"source":"scripts/account-page.js","original":{"line":25,"column":34},"generated":{"line":1,"column":316}},{"source":"scripts/account-page.js","name":"e","original":{"line":25,"column":35},"generated":{"line":1,"column":325}},{"source":"scripts/account-page.js","name":"console","original":{"line":26,"column":4},"generated":{"line":1,"column":328}},{"source":"scripts/account-page.js","name":"log","original":{"line":26,"column":12},"generated":{"line":1,"column":336}},{"source":"scripts/account-page.js","original":{"line":26,"column":16},"generated":{"line":1,"column":340}},{"source":"scripts/account-page.js","name":"executeListItemAction","original":{"line":29,"column":11},"generated":{"line":1,"column":347}},{"source":"scripts/account-page.js","name":"e","original":{"line":29,"column":33},"generated":{"line":1,"column":356}},{"source":"scripts/account-page.js","name":"item","original":{"line":30,"column":10},"generated":{"line":1,"column":359}},{"source":"scripts/account-page.js","name":"item","original":{"line":30,"column":10},"generated":{"line":1,"column":363}},{"source":"scripts/account-page.js","name":"e","original":{"line":30,"column":17},"generated":{"line":1,"column":365}},{"source":"scripts/account-page.js","name":"target","original":{"line":30,"column":19},"generated":{"line":1,"column":367}},{"source":"scripts/account-page.js","name":"action","original":{"line":31,"column":12},"generated":{"line":1,"column":374}},{"source":"scripts/account-page.js","name":"item","original":{"line":31,"column":23},"generated":{"line":1,"column":376}},{"source":"scripts/account-page.js","name":"dataset","original":{"line":31,"column":28},"generated":{"line":1,"column":378}},{"source":"scripts/account-page.js","name":"action","original":{"line":31,"column":12},"generated":{"line":1,"column":386}},{"source":"scripts/account-page.js","original":{"line":32,"column":8},"generated":{"line":1,"column":393}},{"source":"scripts/account-page.js","name":"action","original":{"line":32,"column":9},"generated":{"line":1,"column":397}},{"source":"scripts/account-page.js","original":{"line":32,"column":17},"generated":{"line":1,"column":399}},{"source":"scripts/account-page.js","name":"action","original":{"line":34,"column":12},"generated":{"line":1,"column":406}},{"source":"scripts/account-page.js","name":"console","original":{"line":33,"column":4},"generated":{"line":1,"column":413}},{"source":"scripts/account-page.js","name":"log","original":{"line":33,"column":12},"generated":{"line":1,"column":421}},{"source":"scripts/account-page.js","name":"action","original":{"line":33,"column":16},"generated":{"line":1,"column":425}},{"source":"scripts/account-page.js","name":"item","original":{"line":33,"column":24},"generated":{"line":1,"column":427}},{"source":"scripts/account-page.js","name":"action","original":{"line":34,"column":12},"generated":{"line":1,"column":430}},{"source":"scripts/account-page.js","original":{"line":35,"column":11},"generated":{"line":1,"column":433}},{"source":"scripts/account-page.js","original":{"line":35,"column":11},"generated":{"line":1,"column":437}},{"source":"scripts/account-page.js","original":{"line":37,"column":8},"generated":{"line":1,"column":451}},{"source":"scripts/account-page.js","name":"handleDeleteList","original":{"line":36,"column":8},"generated":{"line":1,"column":463}},{"source":"scripts/account-page.js","name":"item","original":{"line":36,"column":25},"generated":{"line":1,"column":465}},{"source":"scripts/account-page.js","original":{"line":38,"column":11},"generated":{"line":1,"column":468}},{"source":"scripts/account-page.js","original":{"line":38,"column":11},"generated":{"line":1,"column":472}},{"source":"scripts/account-page.js","name":"handleRenameListBtnClick","original":{"line":39,"column":8},"generated":{"line":1,"column":486}},{"source":"scripts/account-page.js","name":"item","original":{"line":39,"column":33},"generated":{"line":1,"column":488}},{"source":"scripts/account-page.js","name":"executeListItemAction","original":{"line":27,"column":4},"generated":{"line":1,"column":492}},{"source":"scripts/account-page.js","name":"e","original":{"line":27,"column":26},"generated":{"line":1,"column":493}},{"source":"scripts/account-page.js","original":{"line":46,"column":0},"generated":{"line":1,"column":498}},{"source":"scripts/account-page.js","name":"handleDeleteList","original":{"line":46,"column":9},"generated":{"line":1,"column":507}},{"source":"scripts/account-page.js","name":"element","original":{"line":46,"column":26},"generated":{"line":1,"column":509}},{"source":"scripts/account-page.js","name":"list","original":{"line":47,"column":8},"generated":{"line":1,"column":512}},{"source":"scripts/account-page.js","name":"list","original":{"line":47,"column":8},"generated":{"line":1,"column":516}},{"source":"scripts/account-page.js","name":"element","original":{"line":47,"column":15},"generated":{"line":1,"column":518}},{"source":"scripts/account-page.js","name":"closest","original":{"line":47,"column":23},"generated":{"line":1,"column":520}},{"source":"scripts/account-page.js","original":{"line":47,"column":31},"generated":{"line":1,"column":528}},{"source":"scripts/account-page.js","name":"listId","original":{"line":48,"column":8},"generated":{"line":1,"column":542}},{"source":"scripts/account-page.js","name":"list","original":{"line":48,"column":17},"generated":{"line":1,"column":544}},{"source":"scripts/account-page.js","name":"dataset","original":{"line":48,"column":22},"generated":{"line":1,"column":546}},{"source":"scripts/account-page.js","name":"listId","original":{"line":48,"column":30},"generated":{"line":1,"column":554}},{"source":"scripts/account-page.js","name":"userId","original":{"line":49,"column":8},"generated":{"line":1,"column":561}},{"source":"scripts/account-page.js","original":{"line":49,"column":17},"generated":{"line":1,"column":564}},{"source":"scripts/account-page.js","original":{"line":49,"column":2},"generated":{"line":1,"column":566}},{"source":"scripts/account-page.js","original":{"line":49,"column":2},"generated":{"line":1,"column":568}},{"source":"scripts/account-page.js","name":"parentElement","original":{"line":50,"column":8},"generated":{"line":1,"column":581}},{"source":"scripts/account-page.js","name":"list","original":{"line":50,"column":24},"generated":{"line":1,"column":583}},{"source":"scripts/account-page.js","name":"parentElement","original":{"line":50,"column":29},"generated":{"line":1,"column":585}},{"source":"scripts/account-page.js","name":"list","original":{"line":51,"column":2},"generated":{"line":1,"column":599}},{"source":"scripts/account-page.js","name":"dataset","original":{"line":51,"column":7},"generated":{"line":1,"column":601}},{"source":"scripts/account-page.js","name":"state","original":{"line":51,"column":15},"generated":{"line":1,"column":609}},{"source":"scripts/account-page.js","original":{"line":51,"column":23},"generated":{"line":1,"column":615}},{"source":"scripts/account-page.js","name":"deleteList","original":{"line":52,"column":2},"generated":{"line":1,"column":624}},{"source":"scripts/account-page.js","name":"listId","original":{"line":52,"column":13},"generated":{"line":1,"column":626}},{"source":"scripts/account-page.js","name":"userId","original":{"line":52,"column":21},"generated":{"line":1,"column":628}},{"source":"scripts/account-page.js","name":"then","original":{"line":52,"column":29},"generated":{"line":1,"column":631}},{"source":"scripts/account-page.js","original":{"line":52,"column":34},"generated":{"line":1,"column":636}},{"source":"scripts/account-page.js","name":"res","original":{"line":52,"column":35},"generated":{"line":1,"column":645}},{"source":"scripts/account-page.js","name":"res","original":{"line":53,"column":8},"generated":{"line":1,"column":648}},{"source":"scripts/account-page.js","name":"error","original":{"line":53,"column":12},"generated":{"line":1,"column":650}},{"source":"scripts/account-page.js","name":"handleError","original":{"line":54,"column":6},"generated":{"line":1,"column":656}},{"source":"scripts/account-page.js","name":"res","original":{"line":54,"column":18},"generated":{"line":1,"column":668}},{"source":"scripts/account-page.js","name":"error","original":{"line":54,"column":22},"generated":{"line":1,"column":670}},{"source":"scripts/account-page.js","name":"list","original":{"line":54,"column":29},"generated":{"line":1,"column":676}},{"source":"scripts/account-page.js","name":"parentElement","original":{"line":56,"column":10},"generated":{"line":1,"column":679}},{"source":"scripts/account-page.js","name":"contains","original":{"line":56,"column":24},"generated":{"line":1,"column":681}},{"source":"scripts/account-page.js","name":"list","original":{"line":56,"column":33},"generated":{"line":1,"column":690}},{"source":"scripts/account-page.js","name":"parentElement","original":{"line":57,"column":8},"generated":{"line":1,"column":694}},{"source":"scripts/account-page.js","name":"removeChild","original":{"line":57,"column":22},"generated":{"line":1,"column":696}},{"source":"scripts/account-page.js","name":"list","original":{"line":57,"column":34},"generated":{"line":1,"column":708}},{"source":"scripts/account-page.js","original":{"line":62,"column":0},"generated":{"line":1,"column":713}},{"source":"scripts/account-page.js","name":"deleteList","original":{"line":62,"column":9},"generated":{"line":1,"column":722}},{"source":"scripts/account-page.js","name":"listId","original":{"line":62,"column":20},"generated":{"line":1,"column":724}},{"source":"scripts/account-page.js","name":"userId","original":{"line":62,"column":28},"generated":{"line":1,"column":726}},{"source":"scripts/account-page.js","name":"data","original":{"line":63,"column":8},"generated":{"line":1,"column":729}},{"source":"scripts/account-page.js","name":"data","original":{"line":63,"column":8},"generated":{"line":1,"column":733}},{"source":"scripts/account-page.js","original":{"line":63,"column":15},"generated":{"line":1,"column":735}},{"source":"scripts/account-page.js","name":"list_id","original":{"line":63,"column":17},"generated":{"line":1,"column":736}},{"source":"scripts/account-page.js","name":"parseInt","original":{"line":63,"column":26},"generated":{"line":1,"column":744}},{"source":"scripts/account-page.js","name":"listId","original":{"line":63,"column":35},"generated":{"line":1,"column":753}},{"source":"scripts/account-page.js","name":"user_id","original":{"line":63,"column":44},"generated":{"line":1,"column":756}},{"source":"scripts/account-page.js","name":"parseInt","original":{"line":63,"column":53},"generated":{"line":1,"column":764}},{"source":"scripts/account-page.js","name":"userId","original":{"line":63,"column":62},"generated":{"line":1,"column":773}},{"source":"scripts/account-page.js","original":{"line":64,"column":9},"generated":{"line":1,"column":777}},{"source":"scripts/account-page.js","original":{"line":64,"column":9},"generated":{"line":1,"column":784}},{"source":"scripts/account-page.js","original":{"line":64,"column":16},"generated":{"line":1,"column":786}},{"source":"scripts/account-page.js","original":{"line":64,"column":16},"generated":{"line":1,"column":788}},{"source":"scripts/account-page.js","original":{"line":64,"column":16},"generated":{"line":1,"column":796}},{"source":"scripts/account-page.js","name":"data","original":{"line":64,"column":31},"generated":{"line":1,"column":810}},{"source":"scripts/account-page.js","original":{"line":68,"column":0},"generated":{"line":1,"column":813}},{"source":"scripts/account-page.js","name":"handleRenameListBtnClick","original":{"line":68,"column":9},"generated":{"line":1,"column":822}},{"source":"scripts/account-page.js","name":"element","original":{"line":68,"column":34},"generated":{"line":1,"column":824}},{"source":"scripts/account-page.js","original":{"line":69,"column":18},"generated":{"line":1,"column":828}},{"source":"scripts/account-page.js","original":{"line":69,"column":18},"generated":{"line":1,"column":830}},{"source":"scripts/account-page.js","original":{"line":69,"column":18},"generated":{"line":1,"column":832}},{"source":"scripts/account-page.js","original":{"line":69,"column":18},"generated":{"line":1,"column":849}},{"source":"scripts/account-page.js","name":"element","original":{"line":70,"column":4},"generated":{"line":1,"column":850}},{"source":"scripts/account-page.js","name":"element","original":{"line":70,"column":4},"generated":{"line":1,"column":858}},{"source":"scripts/account-page.js","name":"callback","original":{"line":71,"column":4},"generated":{"line":1,"column":860}},{"source":"scripts/account-page.js","name":"handleRenameRecipe","original":{"line":71,"column":14},"generated":{"line":1,"column":869}},{"source":"scripts/account-page.js","name":"btnText","original":{"line":72,"column":4},"generated":{"line":1,"column":871}},{"source":"scripts/account-page.js","original":{"line":72,"column":13},"generated":{"line":1,"column":879}},{"source":"scripts/account-page.js","name":"replaceParent","original":{"line":73,"column":4},"generated":{"line":1,"column":888}},{"source":"scripts/account-page.js","original":{"line":73,"column":19},"generated":{"line":1,"column":903}},{"source":"scripts/account-page.js","name":"changeInnerTextOfEl","original":{"line":74,"column":4},"generated":{"line":1,"column":905}},{"source":"scripts/account-page.js","original":{"line":74,"column":25},"generated":{"line":1,"column":925}},{"source":"scripts/account-page.js","original":{"line":77,"column":0},"generated":{"line":1,"column":945}},{"source":"scripts/account-page.js","name":"handleRenameRecipe","original":{"line":77,"column":9},"generated":{"line":1,"column":954}},{"source":"scripts/account-page.js","name":"e","original":{"line":77,"column":28},"generated":{"line":1,"column":956}},{"source":"scripts/account-page.js","name":"parent","original":{"line":77,"column":31},"generated":{"line":1,"column":958}},{"source":"scripts/account-page.js","name":"e","original":{"line":78,"column":2},"generated":{"line":1,"column":961}},{"source":"scripts/account-page.js","name":"preventDefault","original":{"line":78,"column":4},"generated":{"line":1,"column":963}},{"source":"scripts/account-page.js","original":{"line":79,"column":28},"generated":{"line":1,"column":980}},{"source":"scripts/account-page.js","name":"title","original":{"line":79,"column":18},"generated":{"line":1,"column":984}},{"source":"scripts/account-page.js","original":{"line":79,"column":28},"generated":{"line":1,"column":987}},{"source":"scripts/account-page.js","name":"e","original":{"line":79,"column":48},"generated":{"line":1,"column":989}},{"source":"scripts/account-page.js","name":"e","original":{"line":79,"column":48},"generated":{"line":1,"column":991}},{"source":"scripts/account-page.js","name":"e","original":{"line":79,"column":48},"generated":{"line":1,"column":1012}},{"source":"scripts/account-page.js","name":"target","original":{"line":79,"column":50},"generated":{"line":1,"column":1014}},{"source":"scripts/account-page.js","name":"index0","original":{"line":79,"column":10},"generated":{"line":1,"column":1022}},{"source":"scripts/account-page.js","name":"list","original":{"line":80,"column":8},"generated":{"line":1,"column":1029}},{"source":"scripts/account-page.js","name":"e","original":{"line":80,"column":15},"generated":{"line":1,"column":1031}},{"source":"scripts/account-page.js","name":"target","original":{"line":80,"column":17},"generated":{"line":1,"column":1033}},{"source":"scripts/account-page.js","name":"closest","original":{"line":80,"column":24},"generated":{"line":1,"column":1040}},{"source":"scripts/account-page.js","original":{"line":80,"column":32},"generated":{"line":1,"column":1048}},{"source":"scripts/account-page.js","name":"list_id","original":{"line":81,"column":8},"generated":{"line":1,"column":1062}},{"source":"scripts/account-page.js","name":"list","original":{"line":81,"column":18},"generated":{"line":1,"column":1064}},{"source":"scripts/account-page.js","name":"dataset","original":{"line":81,"column":23},"generated":{"line":1,"column":1066}},{"source":"scripts/account-page.js","name":"listId","original":{"line":81,"column":31},"generated":{"line":1,"column":1074}},{"source":"scripts/account-page.js","name":"list","original":{"line":82,"column":2},"generated":{"line":1,"column":1081}},{"source":"scripts/account-page.js","name":"dataset","original":{"line":82,"column":7},"generated":{"line":1,"column":1083}},{"source":"scripts/account-page.js","name":"state","original":{"line":82,"column":15},"generated":{"line":1,"column":1091}},{"source":"scripts/account-page.js","original":{"line":82,"column":23},"generated":{"line":1,"column":1097}},{"source":"scripts/account-page.js","original":{"line":83,"column":9},"generated":{"line":1,"column":1108}},{"source":"scripts/account-page.js","original":{"line":83,"column":9},"generated":{"line":1,"column":1110}},{"source":"scripts/account-page.js","original":{"line":83,"column":9},"generated":{"line":1,"column":1112}},{"source":"scripts/account-page.js","original":{"line":83,"column":9},"generated":{"line":1,"column":1120}},{"source":"scripts/account-page.js","original":{"line":83,"column":24},"generated":{"line":1,"column":1134}},{"source":"scripts/account-page.js","name":"title","original":{"line":83,"column":26},"generated":{"line":1,"column":1135}},{"source":"scripts/account-page.js","name":"title","original":{"line":83,"column":26},"generated":{"line":1,"column":1141}},{"source":"scripts/account-page.js","name":"list_id","original":{"line":83,"column":33},"generated":{"line":1,"column":1143}},{"source":"scripts/account-page.js","name":"list_id","original":{"line":83,"column":33},"generated":{"line":1,"column":1151}},{"source":"scripts/account-page.js","name":"then","original":{"line":83,"column":44},"generated":{"line":1,"column":1155}},{"source":"scripts/account-page.js","original":{"line":83,"column":49},"generated":{"line":1,"column":1160}},{"source":"scripts/account-page.js","name":"res","original":{"line":83,"column":50},"generated":{"line":1,"column":1169}},{"source":"scripts/account-page.js","name":"res","original":{"line":84,"column":8},"generated":{"line":1,"column":1172}},{"source":"scripts/account-page.js","name":"error","original":{"line":84,"column":12},"generated":{"line":1,"column":1174}},{"source":"scripts/account-page.js","name":"handleError","original":{"line":85,"column":6},"generated":{"line":1,"column":1180}},{"source":"scripts/account-page.js","name":"res","original":{"line":85,"column":18},"generated":{"line":1,"column":1192}},{"source":"scripts/account-page.js","name":"error","original":{"line":85,"column":22},"generated":{"line":1,"column":1194}},{"source":"scripts/account-page.js","name":"list","original":{"line":85,"column":29},"generated":{"line":1,"column":1200}},{"source":"scripts/account-page.js","name":"list","original":{"line":87,"column":6},"generated":{"line":1,"column":1203}},{"source":"scripts/account-page.js","name":"dataset","original":{"line":87,"column":11},"generated":{"line":1,"column":1205}},{"source":"scripts/account-page.js","name":"state","original":{"line":87,"column":19},"generated":{"line":1,"column":1213}},{"source":"scripts/account-page.js","original":{"line":87,"column":27},"generated":{"line":1,"column":1219}},{"source":"scripts/account-page.js","name":"window","original":{"line":9,"column":0},"generated":{"line":1,"column":1228}},{"source":"scripts/account-page.js","name":"addEventListener","original":{"line":9,"column":7},"generated":{"line":1,"column":1235}},{"source":"scripts/account-page.js","original":{"line":9,"column":24},"generated":{"line":1,"column":1252}},{"source":"scripts/account-page.js","name":"initManagement","original":{"line":9,"column":44},"generated":{"line":1,"column":1271}}],"sources":{"scripts/account-page.js":"import {\n  replaceWithForm,\n  useApi,\n  getInputValueByForm,\n  getUserId,\n} from \"./helpers\";\nimport { addCreateListHandler } from \"./add-list\";\n\nwindow.addEventListener(\"DOMContentLoaded\", initManagement);\n\nfunction initManagement() {\n  if (!document.querySelector(\".recipe-list-management-area\")) return;\n\n  const list = document.querySelector(\".my-lists\");\n  addListItemActionHandlers(list);\n\n  document\n    .querySelectorAll(\".lists-action\")\n    .forEach((listBottom) => addCreateListHandler(listBottom));\n}\n\n//HANDLERS AND API CALLS\n\nfunction addListItemActionHandlers(lists) {\n  lists.addEventListener(\"click\", (e) => {\n    console.log(\"ran\");\n    executeListItemAction(e);\n  });\n  function executeListItemAction(e) {\n    const item = e.target;\n    const { action } = item.dataset;\n    if (!action) return;\n    console.log(action, item);\n    switch (action) {\n      case \"delete-list\":\n        handleDeleteList(item);\n        return;\n      case \"rename-list\":\n        handleRenameListBtnClick(item);\n        return;\n    }\n  }\n}\n\n//DELETE LIST\nfunction handleDeleteList(element) {\n  const list = element.closest(\".list-item\");\n  const listId = list.dataset.listId;\n  const userId = getUserId();\n  const parentElement = list.parentElement;\n  list.dataset.state = \"hidden\";\n  deleteList(listId, userId).then((res) => {\n    if (res.error) {\n      handleError(res.error, list);\n    } else {\n      if (parentElement.contains(list)) {\n        parentElement.removeChild(list);\n      }\n    }\n  });\n}\nfunction deleteList(listId, userId) {\n  const data = { list_id: parseInt(listId), user_id: parseInt(userId) };\n  return useApi(\"delete-list\", data);\n}\n\n//RENAME LIST\nfunction handleRenameListBtnClick(element) {\n  replaceWithForm({\n    element,\n    callback: handleRenameRecipe,\n    btnText: \"rename\",\n    replaceParent: true,\n    changeInnerTextOfEl: \".recipe-title a\",\n  });\n}\nfunction handleRenameRecipe(e, parent) {\n  e.preventDefault();\n  const { index0: title } = getInputValueByForm(e.target);\n  const list = e.target.closest(\".list-item\");\n  const list_id = list.dataset.listId;\n  list.dataset.state = \"loading\";\n  useApi(\"rename-list\", { title, list_id }).then((res) => {\n    if (res.error) {\n      handleError(res.error, list);\n    } else {\n      list.dataset.state = \"idle\";\n    }\n  });\n}\n\n//HANDLES ADDING ITEMS TO A LIST\n//THIS MAY NEED TO BE ADDED TO A NEW LIST\n\n// Jul 14, 2020 - Joseph changed this to accommodate his staging area.\n"},"lineCount":null}},"error":null,"hash":"b349b3991a311b06d054798cb74304f9","cacheData":{"env":{}}}